
----------------------------------<太阳能控制器与遥控器 红外通信协议>------------------------------------------------------

>>>>>>>>>>>>>>>>>>>>>>>>>>1.运行数据查看：<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

1.1)遥控器(TX)---->控制器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=请求码+CRC校验码(校验范围：BYTE1)

请求码:0xA1
-----------------------------------------
| 包头	| 请求码|	CRC校验码	|  包尾	|
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	|
| 0x55  | 0xA1 	| 0x7E 	| 0xF8 	| 0xAA	|
----------------------------------------


1.2)控制器(TX)---->遥控器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=响应码+状态数据+CRC校验码(校验范围：BYTE1---BYTE12)

响应码：0xB1

状态数据=光伏电压(2BYTE)+电池电压(2BYTE)+输出电压(2BYTE)+充电电流(2BYTE)+输出电流(2BYTE)+工作模式(1BYTE)

-----------------------------------------------------------------------------------------------------------------------------------------
| 包头	| 响应码|	光伏电压  	|	电池电压  	|	输出电压  	|	充电电流  	|	 输出电流  	  | 工作模式 |	  CRC校验码	   | 包尾	|  		
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	| BYTE5	| BYTE6	| BYTE7	| BYTE8	| BYTE9	| BYTE10 | BYTE11 |  BYTE12  | BYTE13 | BYTE14 | BYTE15	|
| 0x55  | 0xB1 	| 0x0B 	| 0xB8 	| 0x04	| 0xB0	| 0x0B	| 0xB8	| 0x00	| 0x96	| 0x00	 | 0x00	  |  0x01	 | 0x0C	  | 0x62   | 0xAA	| 
-----------------------------------------------------------------------------------------------------------------------------------------

>>>>>>>>>>>>>>>>>>>>>>>>>>2.参数查看:<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2.1)遥控器(TX)---->控制器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=请求码+CRC校验码(校验范围：BYTE1)

请求码:0xA2
-----------------------------------------
| 包头	| 请求码|	CRC校验码	|  包尾	|
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	|
| 0x55  | 0xA2 	| 0x3E 	| 0xF9 	| 0xAA	|
----------------------------------------


2.2)控制器(TX)---->遥控器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=响应码+系统参数+CRC校验码(校验范围：BYTE1--BYTE12)

响应码：0xB2

系统参数=光控电压(2BYTE)+负载电流(2BYTE)+第一阶段(1BYTE)+第二阶段(1BYTE)+第三阶段(1BYTE)+第四阶段(1BYTE)+第五阶段(1BYTE)+电池类型(1BYTE)+光控时间(1BYTE)

---------------------------------------------------------------------------------------------------------------------------------------------
| 包头	| 响应码|	光控电压  	|	负载电流  	|第一阶段 |第二阶段|第三阶段|第四阶段|第五阶段|电池类型|光控时间|    CRC校验码     | 包尾   |  		
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	| BYTE5	| BYTE6   | BYTE7  | BYTE8  | BYTE9  | BYTE10 | BYTE11 | BYTE12 | BYTE13  | BYTE14 |BYTE15  |
| 0x55  | 0xB2 	| 0x00 	| 0x07 	| 0x00	| 0x21	| 0x64    | 0x50   | 0x3C   | 0x28   | 0x14   | 0x01   | 0x01   |  ----   | ----   |0xAA    |
---------------------------------------------------------------------------------------------------------------------------------------------

>>>>>>>>>>>>>>>>>>>>>>>>>>3.参数保存:<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

3.1)遥控器(TX)---->控制器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=命令码+系统参数+CRC校验码(校验范围：BYTE1--BYTE12)

命令码:0xA3
---------------------------------------------------------------------------------------------------------------------------------------------
| 包头	| 响应码|	光控电压  	|	负载电流  	|第一阶段 |第二阶段|第三阶段|第四阶段|第五阶段|电池类型|光控时间|    CRC校验码     | 包尾   |  		
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	| BYTE5	| BYTE6   | BYTE7  | BYTE8  | BYTE9  | BYTE10 | BYTE11 | BYTE12 | BYTE13  | BYTE14 |BYTE15  |
| 0x55  | 0xA3 	| 0x00 	| 0x07 	| 0x00	| 0x21	| 0x64    | 0x50   | 0x3C   | 0x28   | 0x14   | 0x01   | 0x01   |  ----   | ----   |0xAA    |
---------------------------------------------------------------------------------------------------------------------------------------------


3.2)控制器(TX)---->遥控器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=响应码+状态+CRC校验码(校验范围：BYTE1--BYTE2)

响应码：0xB3

状态：01  参数设置成功
	  02  参数设置失败(参数设置不合理超出系统工作参数范围或是数据传输丢失)

-------------------------------------------------
| 包头	| 响应码| 状态	|	CRC校验码	|  包尾	|
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	| BYTE5	|
| 0x55  | 0xB3 	| 0x01 	| 0xB5 	| 0x40	| 0xAA	|
-------------------------------------------------


>>>>>>>>>>>>>>>>>>>>>>>>>>4.数据监测:<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

4.1)遥控器(TX)---->控制器:(同上1.运行数据查看)

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=请求码+CRC校验码(校验范围：BYTE1)

请求码:0xA1
-----------------------------------------
| 包头	| 请求码|	CRC校验码	|  包尾	|
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	|
| 0x55  | 0xA1 	| 0x7E 	| 0xF8 	| 0xAA	|
----------------------------------------


4.2)控制器(TX)---->遥控器:

完整数据帧：包头(1BYTE)+数据段(N BYTE)+包尾(1BYTE)

数据段=响应码+状态数据+CRC校验码(校验范围：BYTE1---BYTE12)

响应码：0xB1

状态数据=光伏电压(2BYTE)+电池电压(2BYTE)+输出电压(2BYTE)+充电电流(2BYTE)+输出电流(2BYTE)+工作模式(1BYTE)

-----------------------------------------------------------------------------------------------------------------------------------------
| 包头	| 响应码|	光伏电压  	|	电池电压  	|	输出电压  	|	充电电流  	|	 输出电流  	  | 工作模式 |	  CRC校验码	   | 包尾	|  		
| BYTE0 | BYTE1	| BYTE2	| BYTE3	| BYTE4	| BYTE5	| BYTE6	| BYTE7	| BYTE8	| BYTE9	| BYTE10 | BYTE11 |  BYTE12  | BYTE13 | BYTE14 | BYTE15	|
| 0x55  | 0xB1 	| 0x0B 	| 0xB8 	| 0x04	| 0xB0	| 0x0B	| 0xB8	| 0x00	| 0x96	| 0x00	 | 0x00	  |  0x01	 | 0x0C	  | 0x62   | 0xAA	| 
-----------------------------------------------------------------------------------------------------------------------------------------


































